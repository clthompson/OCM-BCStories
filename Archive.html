<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BC Stories - Archive</title>

    <link rel="stylesheet" href="css/bclongreads.css?ts=<?=time()?>" />

    <script src="bower_components/modernizr/modernizr.js"></script>
        <script src="http://www.brooklyn.cuny.edu/web/js/vendor/jquery.js"></script> <!-- jQuery -->
    <script src="http://www.brooklyn.cuny.edu/web/js/foundation/foundation.js"></script> <!-- Foundation -->
    <script src="http://www.brooklyn.cuny.edu/web/js/response-bcstories.js"></script> <!--// responsive content images//-->

    <link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,500,500i,700,700i,900,900i" rel="stylesheet">

  <!-- Page ID: 13951 -->

    <meta property="og:title" content="">
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    <meta property="og:description" content="">
    <meta property="fb:admins" content="618382230">
    <meta property="og:image" content="">
    <meta name="twitter:title" content="">
    <meta name="twitter:description" content=""> 
    <meta name="twitter:image:src" content="">

    <!-- GA -->
    <!-- FB -->

  </head>
  <body data-responsejs='{"create" : {"mode" : "src", "prefix" : "src"}}'>
  <div id="skipnav"><a href="#mainContent" ga-category="SkipNav" ga-action="Navigate" ga-label="SkipNav" tabindex="0">Skip to Main Content</a></div>

  <header>
    <section class="full-width">
      <nav class="desktop" aria-label="Main Navigation">
        <ul>
          <li><a href="#">About</a></li>
          <li><a href="#">Privacy</a></li>
          <li><a href="#">Contact</a></li>
          <li><a href="#">College Website</a></li>
        </ul>
      </nav>
      <section class="mobile-toggle">
      <script type="text/javascript">
        $(document).ready(function() {
          //turn on mobile menu
          $(".lines").click(function(e){
            $(".ex").removeClass("hidden");
            $(this).addClass("hidden");
            $(".mobile-white").removeClass("hidden");
          });
          //turn off mobile menu
          $(".ex").click(function(e){
            $(".lines").removeClass("hidden");
            $(this).addClass("hidden");
            $(".mobile-white").addClass("hidden");
          });
        });
      </script>
      <div class="lines" role="button" aria-pressed="false" tabindex="0"></div>
      <div class="ex hidden" role="button" aria-pressed="true" tabindex="0"></div>
      </section>
    </section>
    <section class="mobile-white hidden">
      <div class="logo"><a href="#"></a></div>
      <nav class="mobile" aria-label="Main Navigation">
          <ul>
            <li><a href="#">Story Archive</a></li>
            <li><a href="#">About</a></li>
            <li><a href="#">Privacy</a></li>
            <li><a href="#">Contact</a></li>
            <li><a href="#">College Website</a></li>
          </ul>
        </nav>
    </section>
    <section class="brand">
      <div class="logo"><a href="#"></a></div>
    </section>
  </header>

  
    <h1 class="hidden">Brooklyn College *.*</h1>
    <section class="archiveList" id="mainContent" role="main" tabindex="0">
      <script type="text/javascript">
          $(document).ready(function() {
            // part 1a get all the possible keywords from all articles into an single array
            // establish array 
            var keywordsArray = [];
            // get articles
            var articles = $(".articleItem");
            // for each, get the keywords
            $(articles).each(function(){
              $(this).addClass("hidden");
              var articleKeywords = $(this).attr("data-keywords");
              //console.log(articleKeywords);
              // turn the keywords into array items
              var keywordList = $(articleKeywords.trim().split(/\s*,\s*/));
              // push them into the main keywords array
              $.merge(keywordsArray, keywordList);
              //keywordsArray.push(keywordList);
            });
            //console.log(keywordsArray);

            // part 1b make a 2nd array with the same contents lowercase, no spaces
            var filterArray = keywordsArray;
            $.each(filterArray,function(index,item){
              filterArray[index] = item.toLowerCase().replace(/\s/g, '');
            });
            //console.log(filterArray);

            // part 2 rewrite the data-keywords content to be lowercase, no spaces, no commas
            $(articles).each(function(){
              // make a variable that gets the keywords and changes the strings
              var articleKeywords = $(this).attr("data-keywords").toLowerCase().replace(/\s/g, '').replace(/,/g , " ");
              //console.log(articleKeywords);
              // update the value
              $(this).attr("data-keywords", articleKeywords);
            });

            // part 3 look at the URL, if there is a filter get it, and hide all articles, then show all that fit the criteria
            var filterTerm = $(location).attr("href").split('=').pop(); //http://www.brooklyn.cuny.edu/web/news/longreads/archive.php?=climatechange

            if(window.location.href.indexOf("?=") > -1) {
              $(".articleItem[data-keywords*='"+filterTerm+"']").removeClass("hidden");
            } else {
              $(".articleItem").removeClass("hidden");
            };
            // console.log(filterTerm);
            //$(".articleItem[data-keywords*='"+filterTerm+"']").removeClass("hidden");

            // part 4 find the filterTerm in filterArray, get its position in the array, (append?) the same term from keywordsArray to the 'All stories in' line of code

          });
      </script>


      <section class="filter">
        <p>All stories in ALUMNI NEWS</p>
      </section> 
      
      <section class="articleItem" data-news="alumni" data-keywords="Climate Change, Diversity, World Politics Too, Alumni News, article">
        <h2><a href="#">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua! Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua!</a></h2>
        <section class="image">
          <a href="#">
            <img src="http://www.brooklyn.cuny.edu/web/adm_2013marketing/trans.gif" 
              alt="Content Image" title="Content Image"
              data-src0="images/content_500x282.jpg"
              data-src500="images/content_888x500.jpg"
              data-src928="images/content_888x500.jpg"/>
            <div class="updated">updated</div>
          </a>
        </section>
        <section class="copy">
          <h2>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Recusandae ad architecto iure. Ullam dolore non consectetur amet enim, itaque aperiam porro dicta sint praesentium beatae iusto nam dolor tempora tempore.</h2>
        </section>
      </section>

      <section class="articleItem" data-news="student gallery" data-keywords="Boston, Diversity, Basketball, Student News, gallery">
        <h2><a href="#">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua! Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua!</a></h2>
        <section class="image">
            <a href="#">
            <img src="http://www.brooklyn.cuny.edu/web/adm_2013marketing/trans.gif" 
              alt="Content Image" title="Content Image"
              data-src0="images/content_500x282.jpg"
              data-src500="images/content_888x500.jpg"
              data-src928="images/content_888x500.jpg"/>
            <div class="video"></div>
          </a>
        </section>
        <section class="copy">
          <h2>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Recusandae ad architecto iure. Ullam dolore non consectetur amet enim, itaque aperiam porro dicta sint praesentium beatae iusto nam dolor tempora tempore.</h2>
        </section>
      </section>

      <section class="articleItem" data-news="student video" data-keywords="Smithing, Biofuel, World Politics Too, Student News, video">
        <h2><a href="#">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua! Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua!</a></h2>
        <section class="image">
            <a href="#">
            <img src="http://www.brooklyn.cuny.edu/web/adm_2013marketing/trans.gif" 
              alt="Content Image" title="Content Image"
              data-src0="images/content_500x282.jpg"
              data-src500="images/content_888x500.jpg"
              data-src928="images/content_888x500.jpg"/>
            <div class="gallery"></div>
          </a>
        </section>
        <section class="copy">
          <h2>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Recusandae ad architecto iure. Ullam dolore non consectetur amet enim, itaque aperiam porro dicta sint praesentium beatae iusto nam dolor tempora tempore.</h2>
        </section>
      </section>

  </section>

  <footer>
    <section class="navigation full-width">
    <nav>
      <ul>
        <li><a href="#">College Website</a></li>
        <li><a href="#">Privacy</a></li>
        <li><a href="#">Policies</a></li>
        <li><a href="#">Contact</a></li>
      </ul>
    </nav>
    </section>
    <section class="bottom full-width">
      <section class="elements">
        <section class="social">
          <div class="icon instagram"><a href="#"></a></div><div class="icon twitter"><a href="#"></a></div><div class="icon facebook"><a href="#"></a></div>
        </section>
        <section class="copyright">
          <div class="cuny"><a href="#"></a></div>
          <div class="copy"><p>&copy; <?php print(date("Y")); ?> All Rights Reserved Brooklyn College</p></div>
        </section>
      </section>
    </section>
  </footer>


    <!--<script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/foundation/js/foundation.min.js"></script>-->
    <!--<script src="js/app.js"></script>-->

    <script>
      $(document).foundation();
    </script>

  </body>
</html>